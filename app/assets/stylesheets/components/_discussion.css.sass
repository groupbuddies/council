$discussion-marker-border-width: 3px
$discussion-inside-info-width: 30px

.Discussion
  position: relative

  display: flex
  flex-direction: column
  min-height: 62px
  padding-right: $discussion-inside-info-width * 1.25

  background-color: theme-palette(neutral, white)
  cursor: pointer

.Discussion-link
  text-decoration: none

.Discussion-title
  @include beta
  flex-grow: 1
  color: theme-palette(primary, dark)
  font-weight: bold

.Discussion-subtitle
  @include gamma
  flex-grow: 1
  color: theme-palette(primary)

.Discussion-commenters
  display: none

.Discussion-info
  position: absolute
  top: 0
  bottom: 0
  right: 0

  display: flex
  flex-direction: column
  align-items: flex-end

.Discussion-author
  @include gamma

.Discussion-author.Discussion-author--small
  color: theme-palette(neutral, white)
  text-align: center
  
.Discussion-author.Discussion-author--big
  display: none

.Discussion-commentsCount
  @include delta
  width: $discussion-inside-info-width
  margin-top: 1px
  color: theme-palette(neutral, white)
  text-align: center

.Discussion.Discussion--watching,
.Discussion.Discussion--watched
  .Discussion-commentsCount
    background-color: theme-palette(primary)
  .Discussion-afterCommentsCount
    border-color: theme-palette(primary)

.Discussion.Discussion--unwatched
  .Discussion-commentsCount
    background-color: theme-palette(accent-secondary)
  .Discussion-afterCommentsCount
    border-color: theme-palette(accent-secondary)

.Discussion.Discussion--unread
  .Discussion-commentsCount
    background-color: theme-palette(accent-primary)
  .Discussion-afterCommentsCount
    border-color: theme-palette(accent-primary)

@media only screen and (min-width : 992px)
  .Discussion
    padding-right: 0.5rem

  .Discussion:hover
    .Discussion-commenterMarker
      border-width: $discussion-marker-border-width*2

    .Discussion-commenterLabel
      transform: translateX(0)

  .Discussion-commenters
    position: absolute
    top: 0
    right: 100%
    bottom: 0

    display: block
    overflow: hidden

  .Discussion-commenter
    display: flex
    justify-content: flex-end

    & + &
      margin-top: 1px

  .Discussion-commenterMarker
    z-index: 2
    border-right: $discussion-marker-border-width solid
    transition: border-width 0.5s ease-in-out

  .Discussion-commenterLabel
    @include delta

    flex: 1
    padding: 0 $discussion-marker-border-width 0 2*$discussion-marker-border-width

    background-color: theme-palette(neutral, white)

    font-weight: bold
    text-align: right
    text-transform: uppercase
    white-space: nowrap

    transform: translateX(calc(#{$discussion-marker-border-width} + 100%))
    transition: transform 0.5s ease-in-out

  .Discussion-info
    left: 100%

    align-items: flex-start

  .Discussion-author.Discussion-author--small
    display: none

  .Discussion-author.Discussion-author--big
    display: block
    border-left: 2*$discussion-marker-border-width solid
    padding: 3px 6px

    background-color: theme-palette(neutral, white)

    font-weight: bold
    text-transform: uppercase
    white-space: nowrap

  .Discussion-commentsCount
    @include delta
    color: theme-palette(neutral, white)
    width: 40px
    padding: 2px 4*$discussion-marker-border-width

  .Discussion-afterCommentsCount
    flex: 1
    border-left: $discussion-marker-border-width solid
